webpackJsonp([23],{289:function(e,t,n){"use strict";var i=function(e,t){return e.is(t)||t.has(e).length>0};t.a=i},553:function(e,t,n){"use strict";var i=n(17),l=n.i(i.a)();t.a={isMobileLayout:function(){return"mobile"===l},isTabletLayout:function(){return"tablet"===l},isMobileTabletLayout:function(){return["mobile","tablet"].indexOf(l)>=0}}},605:function(e,t,n){var i=n(15);e.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,i,l,a){var u,r=e.lambda,s=e.escapeExpression;return'<div class="list-item '+s(r(null!=t?t.type:t,t))+'">\n  <a class="filter-action filter-'+s(r(null!=t?t.type:t,t))+'" href="#" title="Remove '+s(r(null!=t?t.value:t,t))+" "+s(r(null!=t?t.type:t,t))+' filter">\n    <span class="search-tag">'+s(r(null!=t?t.value:t,t))+'</span>\n    <span class="close-icon">'+(null!=(u=e.invokePartial(n(613),t,{name:"icons/scalable/close",hash:{width:12,height:12},data:a,helpers:i,partials:l,decorators:e.decorators}))?u:"")+"</span>\n  </a>\n</div>\n"},usePartial:!0,useData:!0})},613:function(e,t,n){var i=n(15);e.exports=(i.default||i).template({1:function(e,t,n,i,l){var a;return'aria-label="'+e.escapeExpression((a=null!=(a=n["aria-label"]||(null!=t?t["aria-label"]:t))?a:n.helperMissing,"function"==typeof a?a.call(null!=t?t:e.nullContext||{},{name:"aria-label",hash:{},data:l}):a))+'"'},3:function(e,t,n,i,l){return'aria-hidden="true"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,l){var a,u,r=null!=t?t:e.nullContext||{},s=n.helperMissing,d=e.escapeExpression;return'<svg xmlns="http://www.w3.org/2000/svg" width="'+d((u=null!=(u=n.width||(null!=t?t.width:t))?u:s,"function"==typeof u?u.call(r,{name:"width",hash:{},data:l}):u))+'" height="'+d((u=null!=(u=n.height||(null!=t?t.height:t))?u:s,"function"==typeof u?u.call(r,{name:"height",hash:{},data:l}):u))+'" viewBox="0 0 24 24" role="img" '+(null!=(a=n.if.call(r,null!=t?t["aria-label"]:t,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?a:"")+' tabindex="-1"><path fill="#685F55" d="M11.799 11.692L21.491 2l.707.707-9.692 9.692 9.293 9.293-.707.707-9.293-9.292-8.692 8.692-.708-.707 8.693-8.693L2 3.308l.707-.707 9.092 9.091z"/></svg>\n'},useData:!0})},75:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),a=n.n(l),u=n(2),r=n.n(u),s=n(4),d=n(289),o=n(553),c=n(605),h=n.n(c),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=function(e){return e.split(",").map(function(e){return e.trim()}).filter(function(e){return e.match(/^[a-zA-Z]+$/)})},v=function(e,t){return t.indexOf(e)>-1},m=function(e,t){var n={type:t,value:e};return a()(a()(h()(n)).html())},y=function(){function e(t){i(this,e),this.$searchByIngredientForm=t,this.$tagList=t.find(".tag-list"),this.$searchButton=t.find(".search-button"),this.$keywordInput=t.find(".keywords"),this.$includeButton=t.find(".add-include"),this.$excludeButton=t.find(".add-exclude"),this.$includeInput=t.find(".include-ingredients"),this.$excludeInput=t.find(".exclude-ingredients"),this.included=[],this.excluded=[]}return f(e,[{key:"handleEvents",value:function(){r()(s.i).subscribe(this.onKeyUp.bind(this)),r()(s.b).subscribe(this.onClick.bind(this))}},{key:"onClick",value:function(e,t){return n.i(d.a)(t,this.$searchButton)?(e.preventDefault(),this.submit()):n.i(d.a)(t,this.$includeButton)?(e.preventDefault(),this.addIncludedItem()):n.i(d.a)(t,this.$excludeButton)?(e.preventDefault(),this.addExcludedItem()):t.closest(".filter-included").length?(e.preventDefault(),e.stopPropagation(),this.removeIncludedItem(t.closest(".filter-included"))):t.closest(".filter-excluded").length?(e.preventDefault(),e.stopPropagation(),this.removeExcludedItem(t.closest(".filter-excluded"))):null}},{key:"onKeyUp",value:function(e,t){return n.i(d.a)(t,this.$keywordInput)&&(""===this.$keywordInput.val().trim()?this.$keywordInput.closest(".primary").addClass("error"):this.$keywordInput.closest(".primary").removeClass("error")),null}},{key:"addToIncluded",value:function(e){var t=this,n=e.filter(function(e){return!v(e,t.included)});this.included=this.included.concat(n),n.forEach(function(e){return t.$tagList.append(m(e,"included"))})}},{key:"addToExcluded",value:function(e){var t=this,n=e.filter(function(e){return!v(e,t.excluded)});this.excluded=this.excluded.concat(n),n.forEach(function(e){return t.$tagList.append(m(e,"excluded"))})}},{key:"addIncludedItem",value:function(){this.addToIncluded(p(this.$includeInput.val())),this.$includeInput.val(null)}},{key:"addExcludedItem",value:function(){this.addToExcluded(p(this.$excludeInput.val())),this.$excludeInput.val(null)}},{key:"removeIncludedItem",value:function(e){var t=e.find(".search-tag").text();e.remove(),this.removeFromIncluded(t)}},{key:"removeExcludedItem",value:function(e){var t=e.find(".search-tag").text();e.remove(),this.removeFromExcluded(t)}},{key:"removeFromIncluded",value:function(e){this.included.splice(this.included.indexOf(e),1)}},{key:"removeFromExcluded",value:function(e){this.excluded.splice(this.excluded.indexOf(e),1)}},{key:"submit",value:function(){var e=p(this.$keywordInput.val()).join(",");if(e.length>0){this.$keywordInput.closest(".primary").removeClass("error"),this.addIncludedItem(),this.addExcludedItem();var t=this.included.join(","),n=this.excluded.join(","),i="https://www.allrecipes.com/search/results/?WT="+e+"&IngIncl="+t+"&ingExcl="+n+"&sort=re";window.location.href=i}else this.$keywordInput.closest(".primary").addClass("error"),this.$keywordInput.focus()}},{key:"init",value:function(){this.$keywordInput.val(null),this.$includeInput.val(null),this.$excludeInput.val(null),this.handleEvents()}}]),e}(),b=function(){var e=new y(a()(".component.search-by-ingredient"));if(r()(s.r).subscribe(function(){return e.init()}),o.a.isMobileTabletLayout()){var t=a()(".search-by-ingredient-menu-item"),i=t.find(".expand-trigger"),l=t.find(".search-by-ingredient-mobile-show"),u=t.find(".search-by-ingredient-mobile-hide"),c=t.find(".search-by-ingredient-mobile");i.hide(),r()(s.b).subscribe(function(e,t){return n.i(d.a)(t,l)?(e.preventDefault(),e.stopPropagation(),c.addClass("show"),l.hide(),u.show(),null):n.i(d.a)(t,u)?(e.preventDefault(),e.stopPropagation(),c.removeClass("show"),l.show(),u.hide(),null):t.closest(".search-by-ingredient-menu-item").length||t.closest(".submenu-children").length?(e.preventDefault(),e.stopPropagation(),null):null})}};t.default=b}});
//# sourceMappingURL=23-23.js.map